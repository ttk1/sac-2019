<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>demo01</title>
</head>

<body>
  <canvas id="canvas"></canvas>
  <script src="./dot.js"></script>
  <script>
    window.onload = () => {
      const canvas = document.getElementById('canvas');
      canvas.width = 500;
      canvas.height = 500;

      const ctx = canvas.getContext('2d');

      function f(dot, count) {
        if (count == 0) {
          ctx.beginPath();
          ctx.arc(dot.x * 500, dot.y * 500, 0.5, 0, 2 * Math.PI, true); // キャンバスサイズは500x500の想定
          ctx.stroke();
        } else {
          dot = dot.scale(1 / 2);
          f(dot, count - 1);
          f(dot.translate(1 / 4, 1 / 2), count - 1);
          f(dot.translate(1 / 2, 0), count - 1);
        }
      }
      f(new Dot(0.5, 0.5), 7); // 7回適用させるのでcountに7を指定する
    }
  </script>
  <p>View on GitHub: <a href="https://github.com/ttk1/sac-2019">https://github.com/ttk1/sac-2019</a></p>
</body>

</html>